<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
    <!-- æœ¬åœ°é™æ€æ–‡ä»¶æµ‹è¯• -->
    <link rel="stylesheet" href="/css/chicken.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</a></div>
        <nav>
            <a class="nav-item " href="/">ä¸»é¡µ</a>
            <a class="nav-item " href="/archives">æ—¶å…‰è½´</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/JavaScript/">JavaScript</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="ğŸ””-JavaScript-ä¸­çš„-let-ä¸-for-å¾ªç¯"><a href="#ğŸ””-JavaScript-ä¸­çš„-let-ä¸-for-å¾ªç¯" class="headerlink" title="ğŸ”” JavaScript ä¸­çš„ let ä¸ for å¾ªç¯"></a>ğŸ”” JavaScript ä¸­çš„ let ä¸ for å¾ªç¯</h1><p>ä½¿ç”¨<code>let</code>å£°æ˜<code>for</code>å¾ªç¯çš„è¿­ä»£å˜é‡æ˜¯éå¸¸åˆé€‚çš„ï¼Œå› ä¸ºå¾ªç¯ç»“æŸåè¿­ä»£å˜é‡å°±ä¼šè¢«é”€æ¯ï¼Œä»è€Œé‡Šæ”¾ç©ºé—´ã€‚</p>
<pre><code class="js">for (var i = 0; i &lt; 10; i++) {}
console.log(i) // =&gt; 10

for (let i = 0; i &lt; 10; i++) {}
console.log(i) // =&gt; i is not defined</code></pre>
<p>ä½†æ˜¯ï¼Œå¦‚æœ<code>for</code>å¾ªç¯ä¸­åŒ…å«å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šäº§ç”Ÿä»¤äººè¿·æƒ‘çš„ç°è±¡ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œåˆ†åˆ«ä½¿ç”¨<code>let</code>å’Œ<code>var</code>å£°æ˜çš„<code>for</code>å¾ªç¯ä¸ºä¸‰ä¸ªæŒ‰é’®ç»‘å®šäº†äº‹ä»¶ï¼Œå½“ç‚¹å‡»æ—¶è¾“å‡ºç»‘å®šæ—¶çš„<code>i</code>ï¼Œè€Œç»“æœæ˜¯ä¸åŒçš„ï¼š</p>
<pre><code class="js">for (var i = 0; i &lt; btns.length; i++) {
    btns[i].addEventListener(&#39;click&#39;, function () {
        console.log(i)
    })
} // =&gt; 3 3 3

for (let i = 0; i &lt; btns.length; i++) {
    btns[i].addEventListener(&#39;click&#39;, function () {
        console.log(i)
    })
} // =&gt; 0 1 2</code></pre>
<p>å¼‚æ­¥ä»»åŠ¡æ˜¯å½“æ•´æ®µä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šæ ¹æ®æƒ…å†µï¼ˆè®¡æ—¶å™¨ã€è§¦å‘äº‹ä»¶ï¼‰è§¦å‘çš„ï¼Œè¿™é‡Œå¾—åˆ°çš„<code>i</code>åº”è¯¥æ˜¯<code>for</code>å¾ªç¯æ‰§è¡Œå®Œæ¯•ä¹‹åçš„ã€‚å¯ä»¥çœ‹åˆ°ï¼Œ<code>var</code>å£°æ˜çš„<code>for</code>å¾ªç¯ç¬¦åˆé¢„æœŸï¼Œå½“å¾ªç¯ç»“æŸåï¼Œ<code>i</code>çš„å€¼ä¼šè‡ªå¢ä¸º<code>3</code>ï¼Œå› æ­¤ç‚¹å‡»ä»»ä½•ä¸€ä¸ªæŒ‰é’®éƒ½æ˜¯è¾“å‡º<code>3</code>ã€‚</p>
<p>ä½†æ˜¯ï¼Œ<code>let</code>å¾ªç¯çš„è¾“å‡ºç»“æœå°±æœ‰äº›ä»¤äººè¿·æƒ‘äº†ï¼Œè™½ç„¶å®ƒå¯ä»¥ä½¿è‡ªå·±æ‹¥æœ‰ä½œç”¨åŸŸï¼Œä½†æ˜¯<code>i</code>ä¹Ÿä¾ç„¶åªæœ‰ä¸€ä¸ªï¼Œä¸ºä½•æœ€åä¼šè¾“å‡ºä¸åŒçš„å€¼å‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯ï¼Œ<code>let</code>å¾ªç¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä½†ç”Ÿæˆäº†è‡ªå·±çš„ä½œç”¨åŸŸï¼Œè€Œä¸”ä¼šè®°å½•æœ¬æ¬¡å¾ªç¯çš„å€¼ã€‚å› ä¸º<code>let</code>å¯ä»¥è¯†åˆ«å—çº§ä½œç”¨åŸŸï¼ˆèŠ±æ‹¬å·ï¼‰ï¼Œå› æ­¤ä¸åŒå—é‡Œçš„åŒåå˜é‡ä¸ä¼šå‘ç”Ÿå†²çªã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢<code>let</code>å¾ªç¯çš„ä»£ç å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<pre><code class="js">{
    // åˆå§‹åŒ–å¾ªç¯å˜é‡ï¼Œå³åœ†æ‹¬å·ä¸­çš„ i
    let i = 0
    {
        // å°† i çš„å€¼ä¿å­˜ä¸‹æ¥
        let t = i
        // å®é™…ä½¿ç”¨çš„ä¸æ˜¯æœ€åçš„ iï¼Œè€Œæ˜¯æœ¬ä½œç”¨åŸŸå†…ä¿å­˜çš„å€¼
        btns[t].addEventListener(&#39;click&#39;, function () {
            console.log(t)
        })
    }
    // å¾ªç¯å˜é‡è‡ªå¢
    i++ 

    // ç¬¬äºŒéå¾ªç¯
    {   
        let t = i
        btns[t].addEventListener(&#39;click&#39;, function () {
            console.log(t)
        })
    }
    i++

    // ç¬¬ä¸‰éå¾ªç¯
    {   
        let t = i
        btns[t].addEventListener(&#39;click&#39;, function () {
            console.log(t)
        })
    }
    i++
}</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶æ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°æ—¶ï¼Œå¯»æ‰¾çš„å…¶å®æ˜¯æœ¬ä½œç”¨åŸŸä¸­ä¿å­˜çš„å˜é‡ï¼Œè€Œéå¤–å±‚è¿­ä»£å®Œæ¯•çš„<code>i</code>ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥çœ‹åˆ°ï¼Œ<strong>åœ†æ‹¬å·ä¸å¾ªç¯ä½“å…¶å®åˆ†å±äºä¸¤ä¸ªä¸åŒçš„ä½œç”¨åŸŸ</strong>ï¼Œè€Œä¸”ï¼Œ<strong>åœ†æ‹¬å·ä½œç”¨åŸŸæ˜¯åŒ…è£¹ç€å¾ªç¯ä½“ä½œç”¨åŸŸçš„</strong>ã€‚</p>
<p>è€Œå¯¹äº<code>var</code>å¾ªç¯å°±ç®€å•çš„å¤šäº†ï¼Œå› ä¸ºæ— è®ºæ˜¯å“ªä¸€æ¬¡å¾ªç¯ï¼Œæœ€ååªèƒ½è®¿é—®å…¨å±€ä¸‹å…±åŒçš„<code>i</code>ï¼š</p>
<pre><code class="js">// åˆå§‹åŒ–å¾ªç¯å˜é‡ï¼Œå³åœ†æ‹¬å·ä¸­çš„ i
var i = 0 

btns[i].addEventListener(&#39;click&#39;, function () { 
    // ä½¿ç”¨çš„ä¾ç„¶æ˜¯å…¨å±€ä½œç”¨åŸŸä¸‹çš„ i
    console.log(i)
})
// å¾ªç¯å˜é‡è‡ªå¢
i++ 

// ç¬¬äºŒéå¾ªç¯
btns[i].addEventListener(&#39;click&#39;, function () {
    console.log(i)
})
i++

// ç¬¬ä¸‰éå¾ªç¯
btns[i].addEventListener(&#39;click&#39;, function () {
    console.log(i)
})
i++</code></pre>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œåˆ†åˆ«åœ¨åœ†æ‹¬å·å’Œå¾ªç¯ä½“ä¸­å£°æ˜äº†é‡åçš„å˜é‡<code>i</code>ï¼Œå¯è§å®ƒä»¬å¹¶ä¸å†²çªï¼š</p>
<pre><code class="js">for (let i = 0; i &lt; 3; console.log(i++)) {
    let i = &#39;abcd&#39;
    console.log(i)
} // =&gt; abcd 0 abcd 1 abcd 2</code></pre>
<p>å…¶ä¸­<code>abcd</code>æ˜¯å¾ªç¯ä½“å†…çš„<code>i</code>ï¼Œæ•°å­—å€¼æ˜¯åœ†æ‹¬å·å†…çš„<code>i</code>ï¼Œæ ¹æ®ä¸Šè¿°ç†è§£ï¼Œè¿™æ®µä»£ç å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<pre><code class="js">{   
    // åˆå§‹åŒ–å¾ªç¯å˜é‡ï¼Œå³åœ†æ‹¬å·ä¸­çš„ i
    let i = 0 
    {   
        // å¾ªç¯ä½“å†…çš„ iï¼Œç”±äº let å˜é‡å¯ä»¥è¯†åˆ«èŠ±æ‹¬å·ï¼Œå› æ­¤ä¸ä¼šä¸å¤–éƒ¨å†²çª
        let i = &#39;abcd&#39;
        // å®é™…ä½¿ç”¨çš„æ˜¯æœ€è¿‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬ä½œç”¨åŸŸå†…çš„ i
        btns[i].addEventListener(&#39;click&#39;, function () { 
            console.log(i) // =&gt; &#39;abcd&#39;
        })
    }
    // è¾“å‡ºå¤–å±‚ä½œç”¨åŸŸä¸‹çš„ iï¼Œä¹Ÿå°±æ˜¯ 0ï¼Œç„¶åè‡ªå¢ä¸º 1
    console.log(i++) 

    // ç¬¬äºŒéå¾ªç¯
    {   
        let i = &#39;abcd&#39;
        btns[i].addEventListener(&#39;click&#39;, function () {
            console.log(i) // =&gt; &#39;abcd&#39;
        })
    }
    console.log(i++) // =&gt; 1

    // ç¬¬ä¸‰éå¾ªç¯
    {   
        let i = &#39;abcd&#39;
        btns[i].addEventListener(&#39;click&#39;, function () {
            console.log(i) // =&gt; &#39;abcd&#39;
        })
    }
    console.log(i++) // =&gt; 2
}</code></pre>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>Â© 2020</p>
    <p>Theme chicken by å°é¸¡ç±³èŠ±, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>

    <script>
        // ä¸ºæ ‡ç­¾è¿½åŠ å­—ä½“å›¾æ ‡
        $('.tag-list-item').prepend('<i class="fas fa-tag"></i>')

        // å›åˆ°é¡¶éƒ¨çš„çŒ«
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // ç›‘å¬ å›åˆ°é¡¶éƒ¨çš„çŒ« æ˜¯å¦æ˜¾ç¤º
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // åœ¨è¡¨æ ¼å¤–åŒ…è£¹ä¸€å±‚ï¼Œç”¨æ¥ç”Ÿæˆæ»šåŠ¨æ¡
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot å®ä¾‹åŒ–ï¼Œç”¨æ¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£ç›®å½•
        tocbot.init({
            tocSelector: '.toc', // æ¸²æŸ“ç›®å½•çš„å®¹å™¨
            contentSelector: '.post-content', // æ ‡é¢˜æ‰€åœ¨çš„å®¹å™¨
            headingSelector: 'h2, h3', // è¦æ¸²æŸ“çš„ç›®å½•å±‚çº§,
            headingsOffset: -50, // å¾®è°ƒç›®å½•é«˜äº®çš„æ˜¾ç¤ºä½ç½®ï¼ˆåç§»é‡ï¼‰ï¼Œé˜²æ­¢ç‚¹å‡»çš„é“¾æ¥å’Œé«˜äº®çš„é“¾æ¥ä¸ä¸€è‡´
        })

        // åˆå§‹åŒ–ä»£ç é«˜äº® highlight.js
        hljs.initHighlightingOnLoad()

        // è‡ªåŠ¨åŠ è½½ waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: true, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: true, async: false, success: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        æ·»åŠ æ§åˆ¶å°ï¼Œæµ‹è¯•ç§»åŠ¨ç«¯
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>