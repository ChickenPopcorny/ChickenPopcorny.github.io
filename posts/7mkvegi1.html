<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
    <!-- æœ¬åœ°é™æ€æ–‡ä»¶æµ‹è¯• -->
    <link rel="stylesheet" href="/css/chicken.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</a></div>
        <nav>
            <a class="nav-item " href="/">ä¸»é¡µ</a>
            <a class="nav-item " href="/archives">æ—¶å…‰è½´</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/JavaScript/">JavaScript</a>
                
                    <a class="tag-list-item" href="/tags/Vue-js/">Vue.js</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="ğŸ€-ä½¿ç”¨-Vue-router-å®ç°å‰ç«¯è·¯ç”±"><a href="#ğŸ€-ä½¿ç”¨-Vue-router-å®ç°å‰ç«¯è·¯ç”±" class="headerlink" title="ğŸ€ ä½¿ç”¨ Vue-router å®ç°å‰ç«¯è·¯ç”±"></a>ğŸ€ ä½¿ç”¨ Vue-router å®ç°å‰ç«¯è·¯ç”±</h1><p>å‰ç«¯è·¯ç”±æŒ‡çš„æ˜¯åœ¨å®¢æˆ·ç«¯ç»´æŠ¤ URL å’Œé¡µé¢ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œæ— è®ºç”¨æˆ·å‘æœåŠ¡å™¨è¯·æ±‚ä»€ä¹ˆ URLï¼Œè¿”å›çš„éƒ½åªæœ‰ä¸€å¥— HTML + CSS + JSï¼Œè¿™æ ·çš„æŠ€æœ¯ç§°ä¸º<abbr title="SPAï¼ŒSingle Page Application"><strong>å•é¡µé¢åº”ç”¨</strong></abbr>ã€‚JavaScript é€šè¿‡ç›‘å¬ URL çš„å˜åŒ–ï¼Œä»è¿™äº›èµ„æºä¸­æ‰¾åˆ°å¯¹åº”çš„éƒ¨åˆ†ï¼ˆç»„ä»¶ï¼‰è¿›è¡Œæ¸²æŸ“ï¼Œä½†æ˜¯ä¸éœ€è¦å†å‘æœåŠ¡å™¨è¯·æ±‚é™æ€èµ„æºäº†ï¼ˆæ¥å£åŠ¨æ€æ•°æ®è¿˜æ˜¯å¾—æ­£å¸¸è¯·æ±‚ï¼‰ã€‚å•é¡µé¢åº”ç”¨çš„ä¼˜ç‚¹åœ¨äºï¼Œå®ƒä»…åœ¨ç”¨æˆ·é¦–æ¬¡è®¿é—®æ—¶éœ€è¦ç¨é•¿çš„åŠ è½½æ—¶é—´ï¼Œä½†æ˜¯ä¹‹ååˆ‡æ¢é¡µé¢ä¸éœ€è¦å†æ¬¡å‘é€è¯·æ±‚ï¼Œè¿™æ ·å¢åŠ äº†ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿå‡è½»äº†æœåŠ¡å™¨å‹åŠ›ã€‚</p>
<p>æ­¤æ—¶ï¼ŒURL åªæ˜¯ä¸€ä¸ªé¡µé¢çš„æ ‡è¯†ï¼Œå¹¶ä¸éœ€è¦çœŸæ­£å‘é€è¯·æ±‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡ä¸€äº›æ–¹å¼ä½¿å¾— URL å‘ç”Ÿæ”¹å˜ï¼Œä½†æ˜¯åˆä¸å‘é€è¯·æ±‚ã€‚ç¬¬ä¸€ç§æ–¹å¼æ˜¯ä¿®æ”¹ URL ä¸­çš„ hash éƒ¨åˆ†ï¼ˆ<code>#</code>ä¹‹åï¼‰ï¼Œç„¶åé€šè¿‡ç›‘å¬<code>hashchange</code>äº‹ä»¶æ¥é‡æ–°æ¸²æŸ“é¡µé¢ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼æ˜¯é€šè¿‡ HTML5 æ–°å¢çš„<a href="/posts/gjqbkyw3.html#History">History</a>å¯¹è±¡ä¸­çš„æ–¹æ³•æ¥ä¿®æ”¹ URLï¼Œè¿™äº›æ–¹æ³•ä¹Ÿä¸ä¼šå¯¼è‡´é‡æ–°å‘é€è¯·æ±‚ã€‚ä½†å¦‚æœç”¨æˆ·åˆ·æ–°äº†é¡µé¢ï¼Œé‚£ä¹ˆæµè§ˆå™¨è¿˜æ˜¯ä¼šå°†å…¶å½“ä½œæ­£å¸¸çš„ URL å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œå› æ­¤éœ€è¦åç«¯é…åˆã€‚</p>
<p>è€Œ Vue é€šè¿‡<a href="https://router.vuejs.org/zh/installation.html" target="_blank" rel="noopener">Vue-Router</a>æ‰©å±•æä¾›äº†å¯¹å‰ç«¯è·¯ç”±çš„æ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†ä¹Ÿæ˜¯ä¸Šè¿°ä¸¤ç§æ–¹å¼ã€‚</p>
<p>è¦ä½¿ç”¨ Vue-Routerï¼Œéœ€è¦å¦å¤–å¼•å…¥ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼š</p>
<pre><code class="html">&lt;script src=&quot;https://unpkg.com/vue-router/dist/vue-router.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>ç„¶åå®ä¾‹åŒ–ä¸€ä¸ª<code>VueRouter()</code>è·¯ç”±å¯¹è±¡ï¼Œç”¨æ¥é…ç½®è·¯ç”±è§„åˆ™ï¼Œå¹¶é€šè¿‡<code>Vue()</code>å®ä¾‹æŒ‚è½½ã€‚æ¥ä¸‹æ¥åœ¨é¡µé¢ä¸Šä½¿ç”¨<code>&lt;router-view&gt;</code>ä½œä¸ºå ä½ç¬¦ï¼Œä¸€æ—¦æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±ï¼Œå°±ä¼šå°†è¯¥å…ƒç´ æ›¿æ¢ä¸ºå¯¹åº”çš„ç»„ä»¶ã€‚è¿™æ—¶å°† URL ä¿®æ”¹æˆ<code>http://localhost/#/home</code>å°±å¯ä»¥è·³è½¬åˆ°é¦–é¡µç»„ä»¶äº†ï¼Œå½“ç„¶è®©ç”¨æˆ·ä¿®æ”¹ URL è‚¯å®šæ˜¯ä¸ç°å®çš„ï¼Œä¸ºæ­¤ Vue æä¾›äº†<code>&lt;router-link&gt;</code>å…ƒç´ ï¼Œå°†è¦è·³è½¬çš„è·¯ç”±æ·»åŠ åˆ°<code>to</code>å±æ€§ä¸­ï¼ŒVue ä¼šè‡ªåŠ¨å°†è¯¥å…ƒç´ æ¸²æŸ“ä¸ºä»…æ”¹å˜ Hash å€¼çš„<code>&lt;a&gt;</code>æ ‡ç­¾ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œ<code>&lt;router-view&gt;</code>å’Œ<code>&lt;router-link&gt;</code>æœ¬èº«ä¹Ÿæ˜¯ä¸¤ä¸ªå…¨å±€ç»„ä»¶ã€‚</p>
</blockquote>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;router-link to=&quot;/home&quot;&gt;é¦–é¡µ&lt;/router-link&gt;
    &lt;router-link to=&quot;/about&quot;&gt;å…³äº&lt;/router-link&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;</code></pre>
<pre><code class="js">// æ³¨å†Œä¸¤ä¸ªç»„ä»¶å¯¹è±¡
const Home = Vue.component(&#39;Home&#39;, {
    template: &#39;&lt;h1&gt;ä¸»é¡µ&lt;/h1&gt;&#39;
})
const About = Vue.component(&#39;About&#39;, {
    template: &#39;&lt;h1&gt;å…³äº&lt;/h1&gt;&#39;
})

// å®ä¾‹åŒ–è·¯ç”±å¯¹è±¡ï¼Œé€šè¿‡ Vue() å®ä¾‹æŒ‚è½½
const router = new VueRouter({
    // é…ç½®è·¯ç”±ï¼Œå³è·¯å¾„å’Œç»„ä»¶çš„å¯¹åº”å…³ç³»
    routes: [ 
        // æ¯ä¸ªå¯¹è±¡è¡¨ç¤ºä¸€æ¡è·¯ç”±è§„åˆ™ï¼Œpath ä¸ºè·¯å¾„ï¼Œcomponent ä¸ºç»„ä»¶å¯¹è±¡
        { path: &#39;/home&#39;, component: Home },
        { path: &#39;/about&#39;, component: About }
    ]
})

const vue = new Vue({
    el: &#39;#app&#39;,
    router: router // æŒ‚è½½è·¯ç”±å¯¹è±¡
})</code></pre>
<h2 id="ç¦æ­¢ç»„ä»¶å¤ç”¨"><a href="#ç¦æ­¢ç»„ä»¶å¤ç”¨" class="headerlink" title="ç¦æ­¢ç»„ä»¶å¤ç”¨"></a>ç¦æ­¢ç»„ä»¶å¤ç”¨</h2><p>å¦‚æœå¤šä¸ªè·¯ç”±ç»‘å®šçš„æ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆåœ¨è·³è½¬æ—¶ç”±äºç»„ä»¶å¤ç”¨ï¼Œä¼šä¿ç•™ä¹‹å‰ç»„ä»¶çš„ä¿¡æ¯ã€‚</p>
<p><img src="http://cdn.yesuanzao.cn/superbed/2020/04/08/5e8d84ab504f4bcb04121202.gif" alt=""></p>
<p>å¦‚æœå¸Œæœ›ç»„ä»¶åœ¨è·³è½¬æ—¶é‡æ–°æ¸²æŸ“ï¼Œå¯ä»¥ä¸º<code>&lt;router-view&gt;</code>ç»‘å®šä¸€ä¸ª<code>key</code>å±æ€§ï¼ˆä¸<code>v-for</code>çš„åŸç†ä¸€æ ·ï¼‰ï¼Œå®ƒçš„å€¼å¯ä»¥è®¾ç½®ä¸ºå½“å‰è·¯ç”±å¯¹è±¡çš„è·¯å¾„ã€‚<strong>è¿™é‡Œçš„<code>$route</code>æŒ‡ä»£çš„å°±æ˜¯å½“å‰è·¯ç”±å¯¹è±¡</strong>ï¼Œä¹Ÿå°±æ˜¯<code>routes</code>æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<pre><code class="html">&lt;router-view :key=&quot;$route.path&quot;&gt;&lt;/router-view&gt;</code></pre>
<h2 id="å°†é“¾æ¥æ¸²æŸ“ä¸ºå…¶å®ƒå…ƒç´ "><a href="#å°†é“¾æ¥æ¸²æŸ“ä¸ºå…¶å®ƒå…ƒç´ " class="headerlink" title="å°†é“¾æ¥æ¸²æŸ“ä¸ºå…¶å®ƒå…ƒç´ "></a>å°†é“¾æ¥æ¸²æŸ“ä¸ºå…¶å®ƒå…ƒç´ </h2><p>å¦‚æœå¸Œæœ›<code>&lt;router-link&gt;</code>æ¸²æŸ“ä¸ºå…¶å®ƒçš„å…ƒç´ ï¼Œé‚£ä¹ˆä¸ºå…¶æ·»åŠ ä¸€ä¸ª<code>tag</code>å±æ€§å³å¯ã€‚æ³¨æ„ï¼Œæ— è®ºæ¸²æŸ“ä¸ºä»»ä½•å…ƒç´ ï¼Œå®ƒéƒ½æ˜¯å¯ä»¥ç‚¹å‡»è·³è½¬çš„ã€‚</p>
<pre><code class="html">&lt;!-- ä¼šæ¸²æŸ“ä¸ºä¸€ä¸ª &lt;button&gt; å…ƒç´  --&gt;
&lt;router-link to=&quot;home&quot; tag=&quot;button&quot;&gt;é¦–é¡µ&lt;/router-link&gt;</code></pre>
<h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h2><p>å°†è·¯ç”±è§„åˆ™å¯¹è±¡ä¸­çš„<code>component</code>æ›¿æ¢ä¸º<code>redirect</code>ï¼Œå¯ä»¥ä½¿è¯¥è·¯ç”±é‡å®šå‘åˆ°å¦å¤–çš„è·¯ç”±ï¼š</p>
<pre><code class="js">const router = new VueRouter({
    routes: [
        { path: &#39;/&#39;, redirect: &#39;/home&#39; }, // è®¿é—®æ ¹è·¯å¾„æ—¶ï¼Œé‡å®šå‘åˆ°é¦–é¡µ
        { path: &#39;/home&#39;, component: Home },
        { path: &#39;/about&#39;, component: About }
    ]
})</code></pre>
<h2 id="History-æ¨¡å¼"><a href="#History-æ¨¡å¼" class="headerlink" title="History æ¨¡å¼"></a>History æ¨¡å¼</h2><p>ä½¿ç”¨<code>mode</code>å±æ€§å¯ä»¥ç”¨<code>History</code>æ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼Œä»è€Œå»æ‰ URL ä¸­çš„<code>#</code>ï¼Œä½†æ˜¯è¯¥æ–¹å¼éœ€è¦åç«¯é…åˆå®ç°ã€‚</p>
<pre><code class="js">const router = new VueRouter({
    mode: &#39;history&#39;, // è®¾ç½®ä¸º History å®ç°å‰ç«¯è·¯ç”±
    routes: []
})</code></pre>
<h2 id="å–æ¶ˆå†å²è®°å½•"><a href="#å–æ¶ˆå†å²è®°å½•" class="headerlink" title="å–æ¶ˆå†å²è®°å½•"></a>å–æ¶ˆå†å²è®°å½•</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç‚¹å‡»æµè§ˆå™¨çš„åé€€æŒ‰é’®æ˜¯å¯ä»¥è¿”å›ä¸Šä¸€æ¡å†å²è®°å½•çš„ï¼Œä¸º<code>&lt;router-link&gt;</code>æ·»åŠ <code>replace</code>å±æ€§åˆ™å¯ä»¥ç›´æ¥å°†å½“å‰è®°å½•æ›¿æ¢ï¼Œè€Œéå‹å…¥ä¸€æ¡æ–°è®°å½•ã€‚</p>
<pre><code class="html">&lt;router-link to=&quot;/home&quot; replace&gt;é¦–é¡µ&lt;/router-link&gt;
&lt;router-link to=&quot;/about&quot; replace&gt;å…³äº&lt;/router-link&gt;</code></pre>
<h2 id="å½“å‰é“¾æ¥æ ·å¼"><a href="#å½“å‰é“¾æ¥æ ·å¼" class="headerlink" title="å½“å‰é“¾æ¥æ ·å¼"></a>å½“å‰é“¾æ¥æ ·å¼</h2><p>å½“å‰é€‰ä¸­çš„é“¾æ¥ä¼šè‡ªåŠ¨æ·»åŠ <code>.router-link-active</code>ç±»ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¾ç½®å½“å‰é“¾æ¥çš„æ ·å¼ã€‚åœ¨è·¯ç”±å®ä¾‹ä¸­è®¾ç½®<code>linkActiveClass</code>å±æ€§å¯ä»¥ä¿®æ”¹è¿™ä¸ªç±»åã€‚</p>
<pre><code class="js">const router = new VueRouter({
    routes: [],
    linkActiveClass: &#39;active&#39; // ä¿®æ”¹é»˜è®¤çš„é€‰ä¸­ç±»
})</code></pre>
<h2 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h2><p>é™¤äº†ä½¿ç”¨<code>&lt;router-link&gt;</code>åˆ›å»ºæ ‡ç­¾æ¥å®šä¹‰å¯¼èˆªé“¾æ¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>$router</code>è°ƒç”¨æ–¹æ³•å®ç°è·³è½¬ï¼Œ<strong>å®ƒæŒ‡ä»£çš„æ˜¯<code>VueRouter()</code>å®ä¾‹å¯¹è±¡</strong>ï¼Œæ³¨æ„ä¸ä¹‹å‰çš„<code>$route</code>åŒºåˆ«å¼€ã€‚</p>
<p>æ³¨æ„å¯¹äº<code>push()</code>å’Œ<code>replace()</code>ä¸¤ä¸ªæ–¹æ³•æ¥è¯´ï¼Œå¦‚æœå½“å‰å·²ç»æ˜¯è¯¥ç»„ä»¶ï¼Œé‚£ä¹ˆé‡å¤è·³è½¬ä¼šå¯¼è‡´<code>NavigationDuplicated</code>é”™è¯¯ï¼Œå¥½åœ¨å®ƒä»¬å‡è¿”å›<code>Promise</code>å¯¹è±¡ï¼Œå¯ä»¥ç”¨äºæ•è·å¼‚å¸¸ã€‚</p>
<pre><code class="html">&lt;button @click=&quot;goIndex&quot;&gt;é¦–é¡µ&lt;/button&gt;
&lt;button @click=&quot;goAbout&quot;&gt;å…³äº&lt;/button&gt;</code></pre>
<pre><code class="js">const vue = new Vue({
    methods: {
        goIndex() {
            // è·³è½¬åˆ° /home
            this.$router.push(&#39;/home&#39;).catch(err =&gt; {}) 
            // ä¸æ·»åŠ æ–°çš„å†å²è®°å½•ï¼Œè€Œæ˜¯ç›´æ¥æ›¿æ¢
            this.$router.replace(&#39;/home&#39;).catch(err =&gt; {}) 
            // è·³è½¬åˆ°æŸä¸ªå†å²è®°å½•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ— æ•ˆ
            this.$router.go(-1)
        },
        goAbout() {
            this.$router.push(&#39;/about&#39;).catch(err =&gt; {})
        }
    }
})</code></pre>
<h2 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h2><p>Vue æ”¯æŒåœ¨è·¯ç”±ä¸‹ç»§ç»­å®šä¹‰å­è·¯ç”±ã€‚</p>
<pre><code class="js">const router = new VueRouter({
    routes: [
        {
            path: &#39;/home&#39;,
            component: Home,
            // å­è·¯ç”±è§„åˆ™
            children: [
                // æ³¨æ„å­è·¯ç”±çš„ pathä¸è¦æ·»åŠ  /ï¼Œå¦åˆ™è¡¨ç¤ºæ ¹è·¯ç”±ï¼Œä¼šå¯¼è‡´è·¯ç”±æ‹¼æ¥é”™è¯¯
                { path: &#39;news&#39;, component: HomeNews }, 
                { path: &#39;message&#39;, component: HomeMessage }
            ]
        }
    ]
})</code></pre>
<p>æ³¨æ„ï¼Œçˆ¶çº§è·¯ç”±æ¨¡æ¿ä¸­çš„<code>&lt;router-link&gt;</code>é‡Œçš„<code>to</code>å±æ€§è¦å®šä¹‰å®Œæ•´çš„è·¯å¾„ï¼Œå› ä¸ºå®ƒæ— æ³•è¯†åˆ«å½“å‰æ˜¯è·Ÿè·¯ç”±è¿˜æ˜¯å­è·¯ç”±ã€‚</p>
<pre><code class="html">&lt;router-link to=&quot;/home/news&quot;&gt;æ–°é—»&lt;/router-link&gt;</code></pre>
<h2 id="ä¼ é€’å‚æ•°"><a href="#ä¼ é€’å‚æ•°" class="headerlink" title="ä¼ é€’å‚æ•°"></a>ä¼ é€’å‚æ•°</h2><p>å‰ç«¯è·¯ç”±åœ¨è·³è½¬åˆ°å…¶å®ƒé¡µé¢æ—¶å¯ä»¥ä¼ é€’å‚æ•°ï¼Œä¸»è¦æœ‰ä¸‹é¢ä¸¤ç§æ–¹å¼ã€‚</p>
<h3 id="è·¯ç”±å‚æ•°"><a href="#è·¯ç”±å‚æ•°" class="headerlink" title="è·¯ç”±å‚æ•°"></a>è·¯ç”±å‚æ•°</h3><p>ç¬¬ä¸€ç§æ–¹å¼ç§°ä¸ºè·¯ç”±å‚æ•°ï¼Œåœ¨è·¯ç”±è§„åˆ™ä¸­çš„<code>path</code>ä¸­æ·»åŠ ä»¥å†’å·å¼€å¤´çš„è‡ªå®šä¹‰å‚æ•°åï¼Œé‚£ä¹ˆ Vue ä¼šå°†è¿™ä¸ªéƒ¨åˆ†è¯†åˆ«ä¸ºå‚æ•°ï¼Œæ­¤æ—¶ä»»ä½•ä»¥<code>/user</code>å¼€å¤´çš„è·¯ç”±éƒ½ä¼šåŒ¹é…è¯¥è·¯ç”±ã€‚ç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨<code>$route.params.è‡ªå®šä¹‰å‚æ•°å</code>æ¥è·å–è·¯ç”±å‚æ•°çš„å€¼ã€‚</p>
<pre><code class="html">&lt;router-link to=&quot;/user/zhangsan&quot;&gt;ç”¨æˆ·&lt;/router-link&gt;</code></pre>
<pre><code class="js">const User = Vue.component(&#39;User&#39;, {
    template: &#39;&lt;h1&gt;ç”¨æˆ· ID ä¸ºï¼š{{ $route.params.userId }}&lt;/h1&gt;&#39;
})

const router = new VueRouter({
    routes: [
        // å†’å·åé¢ä¸ºè‡ªå®šä¹‰å‚æ•°å
        { path: &#39;/user/:userId&#39;, component: User }
    ]
})</code></pre>
<p>è·¯ç”±å‚æ•°ä¹Ÿå¯ä»¥åŠ¨æ€è®¾ç½®ï¼Œæ­¤æ—¶éœ€è¦å°†<code>to</code>ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­<code>name</code>ä¸º<strong>è·¯å¾„è§„åˆ™çš„åç§°</strong>ï¼Œ<code>params</code>ä¸ºè¦ä¼ é€’çš„å‚æ•°å¯¹è±¡ã€‚</p>
<pre><code class="html">&lt;router-link :to=&quot;{ name: &#39;User&#39;, params: { id: 666 } }&quot;&gt;ç”¨æˆ·&lt;/router-link&gt;</code></pre>
<pre><code class="js">const router = new VueRouter({
    routes: [
        { path: &#39;/user/:id&#39;, component: User, name: &#39;User&#39; } // ä¸ &lt;router-link&gt; ä¸­çš„ name å¯¹åº”
    ]
})</code></pre>
<h3 id="åœ°å€æ ä¼ å‚"><a href="#åœ°å€æ ä¼ å‚" class="headerlink" title="åœ°å€æ ä¼ å‚"></a>åœ°å€æ ä¼ å‚</h3><p>ç¬¬äºŒç§æ–¹å¼æ˜¯é€šè¿‡åœ°å€æ ä¼ å‚ï¼Œä¸è¿‡è¿™é‡Œä¸éœ€è¦æ‰‹åŠ¨åœ¨è·¯ç”±ä¸­æ‹¼æ¥<code>?</code>éƒ¨åˆ†ï¼Œè€Œæ˜¯åŒæ ·å°†<code>to</code>ç»‘å®šä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­<code>path</code>å‚æ•°ä¸ºè·¯å¾„ï¼Œ<code>query</code>ä¸ºä¼ é€’çš„å‚æ•°ã€‚ç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨<code>$route.query</code>å¯¹è±¡æ¥è·å–è¿™äº›å‚æ•°ï¼š</p>
<pre><code class="html">&lt;router-link :to=&quot;{ path: &#39;/user&#39;, query: { id: 233 } }&quot;&gt;ç”¨æˆ·&lt;/router-link&gt;</code></pre>
<pre><code class="js">const User = Vue.component(&#39;User&#39;, {
    template: &#39;&lt;h1&gt;ç”¨æˆ· ID ä¸ºï¼š{{ $route.query.id }}&lt;/h1&gt;&#39;
})</code></pre>
<h2 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h2><p>å¯¼èˆªå®ˆå«å¯ä»¥æ‹¦æˆªé¡µé¢è·³è½¬å¹¶è§¦å‘å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚</p>
<pre><code class="js">const router = new VueRouter({
    routes: [
        { path: &#39;/home&#39;, component: Home },
        { path: &#39;/about&#39;, component: About }
    ]
})

// åˆ›å»ºå…¨å±€å¯¼èˆªå®ˆå«
router.beforeEach((to, from, next) =&gt; {
    to      // ç›®çš„è·¯ç”±è§„åˆ™å¯¹è±¡
    from    // æºè·¯ç”±è§„åˆ™å¯¹è±¡
    next()  // æ‹¦æˆªä¹‹åï¼Œå¦‚æœå¸Œæœ›ç»§ç»­è·³è½¬ï¼Œåˆ™å¿…é¡»æ‰‹åŠ¨è°ƒç”¨ next() ä»¥æ”¾è¡Œ
})</code></pre>
<h2 id="å…ƒæ•°æ®"><a href="#å…ƒæ•°æ®" class="headerlink" title="å…ƒæ•°æ®"></a>å…ƒæ•°æ®</h2><p>åœ¨è·¯ç”±è§„åˆ™å¯¹è±¡ä¸­å¯ä»¥å®šä¹‰<strong>å…ƒæ•°æ®</strong>ï¼Œç”¨æ¥å¯¹è·¯ç”±è¿›è¡Œè§£é‡Šè¯´æ˜ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç å¯ä»¥å®ç°è·³è½¬åä¿®æ”¹å½“å‰é¡µé¢çš„æ ‡é¢˜ã€‚</p>
<pre><code class="js">const vueRouter = new VueRouter({
    routes: [
        { path: &#39;/home&#39;, component: Home, meta: { title: &#39;é¦–é¡µ&#39; } },
        { path: &#39;/about&#39;, component: About, meta: { title: &#39;å…³äº&#39; } }
    ]
})

 // ä¿®æ”¹é¡µé¢æ ‡é¢˜
vueRouter.beforeEach((to, from, next) =&gt; {
    document.title = to.meta.title
    // å¦‚æœè·¯ç”±è§„åˆ™å¯¹è±¡åŒ…å«å­è·¯ç”±ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨ matched æ•°ç»„è·å–åˆ°æ‰€æœ‰åŒ¹é…çš„è·¯ç”±å¯¹è±¡
    document.title = to.matched[0].meta.title
    next()
})</code></pre>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>Â© 2020</p>
    <p>Theme chicken by å°é¸¡ç±³èŠ±, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>

    <script>
        // ä¸ºæ ‡ç­¾è¿½åŠ å­—ä½“å›¾æ ‡
        $('.tag-list-item').prepend('<i class="fas fa-tag"></i>')

        // å›åˆ°é¡¶éƒ¨çš„çŒ«
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // ç›‘å¬ å›åˆ°é¡¶éƒ¨çš„çŒ« æ˜¯å¦æ˜¾ç¤º
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // åœ¨è¡¨æ ¼å¤–åŒ…è£¹ä¸€å±‚ï¼Œç”¨æ¥ç”Ÿæˆæ»šåŠ¨æ¡
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot å®ä¾‹åŒ–ï¼Œç”¨æ¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£ç›®å½•
        tocbot.init({
            tocSelector: '.toc', // æ¸²æŸ“ç›®å½•çš„å®¹å™¨
            contentSelector: '.post-content', // æ ‡é¢˜æ‰€åœ¨çš„å®¹å™¨
            headingSelector: 'h2, h3', // è¦æ¸²æŸ“çš„ç›®å½•å±‚çº§,
            headingsOffset: -50, // å¾®è°ƒç›®å½•é«˜äº®çš„æ˜¾ç¤ºä½ç½®ï¼ˆåç§»é‡ï¼‰ï¼Œé˜²æ­¢ç‚¹å‡»çš„é“¾æ¥å’Œé«˜äº®çš„é“¾æ¥ä¸ä¸€è‡´
        })

        // åˆå§‹åŒ–ä»£ç é«˜äº® highlight.js
        hljs.initHighlightingOnLoad()

        // è‡ªåŠ¨åŠ è½½ waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: true, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: true, async: false, success: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        æ·»åŠ æ§åˆ¶å°ï¼Œæµ‹è¯•ç§»åŠ¨ç«¯
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>