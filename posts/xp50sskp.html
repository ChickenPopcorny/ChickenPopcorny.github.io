<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>这是一个神奇的主题</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/chicken.css">
    <link rel="stylesheet" href="/css/iconfont.css">
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">小鸡米花的知识库</a></div>
        <nav>
            <a class="nav-item " href="/">主页</a>
            <a class="nav-item " href="/archives">时光轴</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
            </ul>
        </div>
        <div class="post-content"><h1 id="📄-IEEE-754"><a href="#📄-IEEE-754" class="headerlink" title="📄 IEEE 754"></a>📄 IEEE 754</h1><p>IEEE 754 是美国电气电子工程师学会（IEEE）在 1985 年发布的一个技术标准，它定义了浮点型的有限数值、无限数值和特殊值<code>NaN</code>的二进制存储格式。</p>
<h2 id="存储格式"><a href="#存储格式" class="headerlink" title="存储格式"></a>存储格式</h2><p>以一个 64 位的数据类型（比如 Java 中的<code>double</code>或者 JavaScript 中的<code>Number</code>）为例，它在内存中的存储格式如下：</p>
<p><img src="http://q45cwniav.bkt.clouddn.com/superbed/2020/01/30/5e325bb02fb38b8c3cf7e450.jpg" alt=""></p>
<p>然后，对于任意一个数值，它都可以换算成下面的格式，以二进制形式存储：</p>
<p>$$ \Large (-1)^s×2^q×c $$</p>
<h3 id="符号位"><a href="#符号位" class="headerlink" title="符号位"></a>符号位</h3><p>$s$表示符号，直接对应内存中的符号位，只能为<code>0</code>或者<code>1</code>。可以看到，当符号位为<code>0</code>时，该数值为正数（$(-1)^0$为<code>1</code>），反之则为负数。</p>
<h3 id="指数位"><a href="#指数位" class="headerlink" title="指数位"></a>指数位</h3><p>$q$表示指数，对应内存中的指数位。通过内存可以看出，它的表示范围最小是全部 11 个指数位取<code>0</code>时，最大是全部位取<code>1</code>时，即$[0,2047]$（$[0,2^{11}-1]$）之间。</p>
<p>但是，指数有正负之分，因此这里设置了一个<strong>偏移量（bias）</strong>，用来移动表示范围。它的计算公式为$bias=2^{k-1}-1$，其中$k$为指数位的位数，是固定值。</p>
<ul>
<li>当数据格式为 64 位时，$k=11$</li>
<li>当数据格式为 32 位时，$k=8$</li>
</ul>
<p>这样将表示范围与偏移量相减，相当于将表示范围的数轴向左移动了一半的距离，从而出现正负指数各一半的情况。此时的$bias=2^{11-1}-1=1023$，因此指数$q$实际的表示范围在$(-1023,1024)$（全<code>0</code>和全<code>1</code>有另外的作用），即$[-1022,1023]$之间，对应的指数位分别是$00000000001$和$11111111110$。</p>
<h3 id="尾数位"><a href="#尾数位" class="headerlink" title="尾数位"></a>尾数位</h3><p>$c$表示尾数，对应内存中的小数位，由 1 个隐藏位和 52 个其它位组成。由于指数位只能取整数，因此必须要尾数位才能真正的表示小数。</p>
<p>隐藏位用来表示尾数位是否大于<code>1</code>，直接当作十进制即可。也就是说，如果该位为<code>0</code>，那么尾数位一定是<code>0.x</code>，如果该位为<code>1</code>，那么尾数位一定是<code>1.x</code>。</p>
<p>其它位则是通过<strong>定点数表示法</strong>转换成十进制小数值，从左到右依次为$2^{-1}$、$2^{-2}$，依次类推。例如，隐藏位为<code>1</code>，其它位为<code>011000...</code>，转换后为$0×2^{-1}+1×2^{-2}+1×2^{-3}=0.375$，考虑隐藏位之后，尾数位最终为<code>1.375</code>。</p>
<h3 id="特殊值"><a href="#特殊值" class="headerlink" title="特殊值"></a>特殊值</h3><p>到目前为止，还有几个特殊值没法表示。因此使用尾数位结合之前指数位预留的两种情况（全<code>0</code>和全<code>1</code>），来表示这些值：</p>
<ul>
<li>指数位全是<code>0</code>，尾数位全是<code>0</code>，表示<code>±0</code>（因为符号位还在）</li>
<li>指数位全是<code>0</code>，尾数位不全是<code>0</code>，表示<strong>非规格化的值</strong>，此时指数位的全<code>0</code>表示十进制的最小值<code>-1022</code></li>
<li>指数位全是<code>1</code>，尾数位全是<code>0</code>，表示$\pm\infty$</li>
<li>指数位全是<code>1</code>，尾数位不全是<code>0</code>，表示<code>NaN</code></li>
</ul>
<blockquote>
<p><em>参考资料</em></p>
<ul>
<li><a href="https://blog.csdn.net/u011679955/article/details/52750345" target="_blank" rel="noopener">Java 与 IEEE754 浅浅谈</a></li>
<li><a href="https://www.cnblogs.com/onepixel/p/5140944.html" target="_blank" rel="noopener">细说 JavaScript 七种数据类型</a></li>
<li><a href="http://weitz.de/ieee/" target="_blank" rel="noopener">IEEE 754 Calculator</a></li>
</ul>
</blockquote>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>© 2020</p>
    <p>Theme chicken by 小鸡米花, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>
    <script src="/css/autoload.js"></script>

    <script>
        // 为标签追加字体图标
        $('.tag-list-item').prepend('<span class="iconfont icon-biaoqian"></span>')

        // 回到顶部的猫
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // 监听 回到顶部的猫 是否显示
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // 在表格外包裹一层，用来生成滚动条
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot 实例化，用来快速生成文档目录
        tocbot.init({
            tocSelector: '.toc', // 渲染目录的容器
            contentSelector: '.post-content', // 标题所在的容器
            headingSelector: 'h2, h3', // 要渲染的目录层级,
            headingsOffset: -50, // 微调目录高亮的显示位置（偏移量），防止点击的链接和高亮的链接不一致
        })

        // 初始化代码高亮 highlight.js
        hljs.initHighlightingOnLoad()

        // 自动加载 waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: false, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: false, async: false, complete: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        添加控制台，测试移动端
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>