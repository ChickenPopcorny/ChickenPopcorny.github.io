<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>这是一个神奇的主题</title>
    <!-- <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/chicken.css"> -->
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
    <!-- 本地静态文件测试 -->
    <link rel="stylesheet" href="/css/chicken.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">小鸡米花的知识库</a></div>
        <nav>
            <a class="nav-item " href="/">主页</a>
            <a class="nav-item " href="/archives">时光轴</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/JavaScript/">JavaScript</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="大前端笔记之12-📝-JavaScript-数据类型"><a href="#大前端笔记之12-📝-JavaScript-数据类型" class="headerlink" title="大前端笔记之12 📝 JavaScript 数据类型"></a>大前端笔记之12 📝 JavaScript 数据类型</h1><h2 id="自动类型转换"><a href="#自动类型转换" class="headerlink" title="自动类型转换"></a>自动类型转换</h2><p>在某些特殊情况下，JavaScript 中的数据类型会发生自动类型转换。</p>
<h3 id="转换为布尔型"><a href="#转换为布尔型" class="headerlink" title="转换为布尔型"></a>转换为布尔型</h3><p>在某些情况下（比如将值用于<code>if</code>条件判断），JavaScript 会自动调用构造函数<code>Boolean()</code>将一些值转换为<code>Boolean</code>类型。转换规则如下：</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>Undefined</code></td>
<td>转换为<code>false</code></td>
</tr>
<tr>
<td><code>Null</code></td>
<td>转换为<code>false</code></td>
</tr>
<tr>
<td><code>Number</code></td>
<td><code>0</code>或者<code>NaN</code>，转换为<code>false</code>，其它转换为<code>true</code></td>
</tr>
<tr>
<td><code>String</code></td>
<td>空字符串<code>&#39;&#39;</code>转换为<code>false</code>，其它转换为<code>true</code></td>
</tr>
<tr>
<td><code>Object</code></td>
<td>转换为<code>true</code></td>
</tr>
</tbody></table>
<h3 id="转换为字符串"><a href="#转换为字符串" class="headerlink" title="转换为字符串"></a>转换为字符串</h3><p>在某些情况下（比如使用加法运算符<code>+</code>将其它数据类型与字符串相连），JavaScript 会自动调用构造函数<code>String()</code>将一些值转换为<code>String</code>类型。而转换的规则与使用这些值手动调用<a href="/posts/i82icjg7.html">toString()</a>方法是完全一样的。</p>
<h3 id="转换为数字型"><a href="#转换为数字型" class="headerlink" title="转换为数字型"></a>转换为数字型</h3><p>在某些情况下，JavaScript 会自动调用构造函数<code>Number()</code>将一些值转换为<code>Number</code>类型。转换规则如下：</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>Undefined</code></td>
<td>转换为<code>NaN</code></td>
</tr>
<tr>
<td><code>Null</code></td>
<td>转换为<code>0</code></td>
</tr>
<tr>
<td><code>Boolean</code></td>
<td><code>true</code>转换为<code>1</code>，<code>false</code>转换为<code>0</code></td>
</tr>
<tr>
<td><code>String</code></td>
<td>见下文</td>
</tr>
<tr>
<td><code>Object</code></td>
<td>见下文</td>
</tr>
</tbody></table>
<p>使用<code>Number()</code>将<code>String</code>类型转换成<code>Number</code>，规则如下：</p>
<ul>
<li>如果字符串为合法数字，那么将其转换成十进制数值，例如<code>&#39;123&#39;</code>转为<code>123</code>，<code>&#39;023&#39;</code>转为<code>23</code>、<code>&#39;1.2&#39;</code>转为<code>1.2</code></li>
<li>如果字符串为空，则转换成<code>0</code></li>
<li>除以上情况外，均转换成<code>NaN</code></li>
</ul>
<p>使用<code>Number()</code>将<code>Object</code>类型转换成<code>Number</code>，规则如下：</p>
<ul>
<li>首先调用对象的<code>valueOf()</code>方法，然后按照上述规则进行转换</li>
<li>如果上一步结果为<code>NaN</code>，那么调用对象的<code>toString()</code>方法转换成字符串，然后再按照上述规则进行转换</li>
</ul>
<p>可以看到这个过程比较复杂，因此通常会手动调用<code>Number</code>对象的相关方法来进行数字转换（见<a href="/posts/i82icjg7.html#Number">标准库</a>一节）。</p>
<h2 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h2><p>使用下面的方式可以判断一个值的数据类型。</p>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><p>使用<code>typeof</code>运算符获取一个值的数据类型。其中的函数并非数据类型，但有特殊返回值。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td><code>Undefined</code></td>
<td><code>undefined</code></td>
</tr>
<tr>
<td><code>Null</code></td>
<td><code>object</code></td>
</tr>
<tr>
<td><code>Boolean</code></td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>String</code></td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>Number</code></td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>Object</code></td>
<td><code>object</code></td>
</tr>
<tr>
<td>函数</td>
<td><code>function</code></td>
</tr>
</tbody></table>
<pre><code class="js">typeof &#39;abc&#39; // =&gt; string
typeof 123 // =&gt; number</code></pre>
<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><p>虽然<code>typeof</code>可以检测基本类型，但是对于引用类型，无论什么类型的对象都会返回<code>object</code>。因此要判断一个对象是不是某个类型的实例时，可以使用<code>instanceof</code>，它根据原型链来识别该实例是否属于某个对象。</p>
<pre><code class="js">var arr = [1, 2, 3]
arr instanceof Array // =&gt; true</code></pre>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>由于任何对象调用<a href="/posts/i82icjg7.html">toString()</a>方法默认会返回表示该对象类型的字符串，因此可以利用这一特性判断对象的数据类型。</p>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>© 2020</p>
    <p>Theme chicken by 小鸡米花, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>

    <script>
        // 为标签追加字体图标
        $('.tag-list-item').prepend('<i class="fas fa-tag"></i>')

        // 回到顶部的猫
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // 监听 回到顶部的猫 是否显示
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // 在表格外包裹一层，用来生成滚动条
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot 实例化，用来快速生成文档目录
        tocbot.init({
            tocSelector: '.toc', // 渲染目录的容器
            contentSelector: '.post-content', // 标题所在的容器
            headingSelector: 'h2, h3', // 要渲染的目录层级,
            headingsOffset: -50, // 微调目录高亮的显示位置（偏移量），防止点击的链接和高亮的链接不一致
        })

        // 初始化代码高亮 highlight.js
        hljs.initHighlightingOnLoad()

        // 自动加载 waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: true, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: true, async: false, success: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        添加控制台，测试移动端
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>