<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
    <!-- æœ¬åœ°é™æ€æ–‡ä»¶æµ‹è¯• -->
    <link rel="stylesheet" href="/css/chicken.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</a></div>
        <nav>
            <a class="nav-item " href="/">ä¸»é¡µ</a>
            <a class="nav-item " href="/archives">æ—¶å…‰è½´</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/JavaScript/">JavaScript</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="ğŸ””-ä½¿ç”¨-JavaScript-æ“ä½œå½“å‰åœ°å€å’Œå†å²è®°å½•"><a href="#ğŸ””-ä½¿ç”¨-JavaScript-æ“ä½œå½“å‰åœ°å€å’Œå†å²è®°å½•" class="headerlink" title="ğŸ”” ä½¿ç”¨ JavaScript æ“ä½œå½“å‰åœ°å€å’Œå†å²è®°å½•"></a>ğŸ”” ä½¿ç”¨ JavaScript æ“ä½œå½“å‰åœ°å€å’Œå†å²è®°å½•</h1><p>JavaScript ä¸»è¦é€šè¿‡<code>location</code>å’Œ<code>history</code>ä¸¤ä¸ªå±æ€§æ¥æ“ä½œå½“å‰é¡µé¢ä½ç½®å’Œå†å²è®°å½•ã€‚</p>
<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p><code>window.location</code>å±æ€§ä¸»è¦é’ˆå¯¹å½“å‰çš„é¡µé¢ä½ç½®è¿›è¡Œæ“ä½œã€‚æ¯”å¦‚è§£æå½“å‰é¡µé¢çš„ URLï¼Œæ³¨æ„è¿™äº›å±æ€§éƒ½æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼š</p>
<pre><code class="js">// å½“å‰ URL ä¸ºï¼šhttp://www.example.com:4097/path/a.html?x=111#part1
location.href      // å®Œæ•´ URLï¼š&quot;http://www.example.com:4097/path/a.html?x=111#part1&quot;
location.protocol  // åè®®ï¼š&quot;http:&quot;
location.host      // ä¸»æœºï¼š&quot;www.example.com:4097&quot;
location.hostname  // ä¸»æœºåç§°ï¼š&quot;www.example.com&quot;
location.port      // ç«¯å£å·ï¼š&quot;4097&quot;
location.pathname  // è·¯å¾„ï¼š&quot;/path/a.html&quot;
location.search    // æäº¤å‚æ•°ï¼š&quot;?x=111&quot;
location.hash      // å“ˆå¸Œå€¼ï¼š&quot;#part1&quot;</code></pre>
<p>æµè§ˆå™¨çš„å†å²è®°å½•æœ¬è´¨æ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œæ ˆé¡¶çš„å€¼å°±æ˜¯å½“å‰ URLã€‚å› æ­¤å‘æ ˆä¸­å‹å…¥ä¸€æ¡è®°å½•ï¼Œå°±å¯ä»¥ä½¿å½“å‰çš„ URL å‘ç”Ÿæ”¹å˜ï¼š</p>
<pre><code class="js">location.assign(&#39;http://www.example.com&#39;)
location.href = &#39;http://www.example.com&#39;</code></pre>
<p>å¦‚æœç›´æ¥æ›¿æ¢å½“å‰æ ˆé¡¶çš„å€¼ï¼Œé‚£ä¹ˆä¹‹å‰çš„å†å²è®°å½•å°±ä¼šè¢«è¦†ç›–ï¼Œå› æ­¤å‰è¿›å’Œåé€€æŒ‰é’®æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼š</p>
<pre><code class="js">location.replace(&#39;http://www.example.com&#39;)</code></pre>
<p>ä¹Ÿå¯ä»¥ç›´æ¥åˆ·æ–°å½“å‰é¡µé¢ï¼š</p>
<pre><code class="js">location.reload()</code></pre>
<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>HTML5 è¿˜æ–°å¢ä¸€ä¸ªç”¨äºæ“ä½œæ•´ä¸ªå†å²è®°å½•çš„ APIï¼Œé€šè¿‡<code>window.history</code>å±æ€§å¯ä»¥è¯¥å¯¹è±¡ã€‚æ³¨æ„ï¼Œè°ƒç”¨è¿™äº›æ–¹æ³•ä¿®æ”¹é¡µé¢åœ°å€<strong>ä¸ä¼šå¯¼è‡´å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</strong>ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿæ˜¯å‰ç«¯è·¯ç”±çš„ä¸€ç§å®ç°æ–¹å¼ã€‚</p>
<p>æ¯”å¦‚å®ç°æµè§ˆå™¨çš„å‰è¿›åé€€æ•ˆæœï¼Œæ³¨æ„å¦‚æœä¸å­˜åœ¨ä¸Šä¸€ä¸ªæˆ–ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œåˆ™æ–¹æ³•æ— æ•ˆï¼š</p>
<pre><code class="js">history.back()
history.forward()</code></pre>
<p>æˆ–è€…ä»¥å½“å‰ç½‘å€ä¸ºåŸºå‡†è·³è½¬é¡µé¢ï¼Œè´Ÿå€¼è¡¨ç¤ºåé€€ï¼Œæ­£å€¼è¡¨ç¤ºå‰è¿›ï¼Œ<code>0</code>ç›¸å½“äºåˆ·æ–°é¡µé¢ï¼š</p>
<pre><code class="js">history.go(-1)
history.go(1)
history.go(0)</code></pre>
<p>ä½¿ç”¨å®ƒåŒæ ·å¯ä»¥å‘å†å²è®°å½•ä¸­æ·»åŠ æ–°è®°å½•ï¼Œä¸è¿‡ä¸‹åˆ—ä¸¤ä¸ªæ–¹æ³•åªèƒ½æ·»åŠ <strong>åŒæº</strong>çš„åœ°å€ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚æ³¨æ„ï¼Œå®ƒä»¬çš„å‰ä¸¤ä¸ªå‚æ•°å›ºå®šä¸ºç©ºå³å¯ï¼ŒåŸºæœ¬æ²¡æœ‰ä½œç”¨ã€‚</p>
<pre><code class="js">// å½“å‰é¡µé¢ä¸º http://127.0.0.1:5501/home/index.html
history.pushState({}, &#39;&#39;, &#39;home&#39;)                               // =&gt; http://127.0.0.1:5501/home/home
history.pushState({}, &#39;&#39;, &#39;http://127.0.0.1:5501/index.html&#39;)   // =&gt; http://127.0.0.1:5501/index.html

// æ›¿æ¢æ ˆé¡¶çš„å€¼
history.replaceState({}, &#39;&#39;, &#39;about&#39;)                           // =&gt; http://127.0.0.1:5501/home/about</code></pre>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>Â© 2020</p>
    <p>Theme chicken by å°é¸¡ç±³èŠ±, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>

    <script>
        // ä¸ºæ ‡ç­¾è¿½åŠ å­—ä½“å›¾æ ‡
        $('.tag-list-item').prepend('<i class="fas fa-tag"></i>')

        // å›åˆ°é¡¶éƒ¨çš„çŒ«
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // ç›‘å¬ å›åˆ°é¡¶éƒ¨çš„çŒ« æ˜¯å¦æ˜¾ç¤º
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // åœ¨è¡¨æ ¼å¤–åŒ…è£¹ä¸€å±‚ï¼Œç”¨æ¥ç”Ÿæˆæ»šåŠ¨æ¡
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot å®ä¾‹åŒ–ï¼Œç”¨æ¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£ç›®å½•
        tocbot.init({
            tocSelector: '.toc', // æ¸²æŸ“ç›®å½•çš„å®¹å™¨
            contentSelector: '.post-content', // æ ‡é¢˜æ‰€åœ¨çš„å®¹å™¨
            headingSelector: 'h2, h3', // è¦æ¸²æŸ“çš„ç›®å½•å±‚çº§,
            headingsOffset: -50, // å¾®è°ƒç›®å½•é«˜äº®çš„æ˜¾ç¤ºä½ç½®ï¼ˆåç§»é‡ï¼‰ï¼Œé˜²æ­¢ç‚¹å‡»çš„é“¾æ¥å’Œé«˜äº®çš„é“¾æ¥ä¸ä¸€è‡´
        })

        // åˆå§‹åŒ–ä»£ç é«˜äº® highlight.js
        hljs.initHighlightingOnLoad()

        // è‡ªåŠ¨åŠ è½½ waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: true, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: true, async: false, success: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        æ·»åŠ æ§åˆ¶å°ï¼Œæµ‹è¯•ç§»åŠ¨ç«¯
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>