<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>这是一个神奇的主题</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/chicken.css">
    <link rel="stylesheet" href="/css/iconfont.css">
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">小鸡米花的知识库</a></div>
        <nav>
            <a class="nav-item " href="/">主页</a>
            <a class="nav-item " href="/archives">时光轴</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/CSS/">CSS</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="💠-CSS-层叠上下文"><a href="#💠-CSS-层叠上下文" class="headerlink" title="💠 CSS 层叠上下文"></a>💠 CSS 层叠上下文</h1><p>与 BFC 类似，某些元素也具有层叠上下文（Stacking Context）的特性，在同一个层叠上下文中的元素，会按照下列顺序层叠在一起。</p>
<p><img src="https://pic2.superbed.cn/item/5dfadcdb76085c3289b81f74.jpg" alt=""></p>
<blockquote>
<p>注意，其中<strong>负数</strong>的<code>z-index</code>定位元素甚至比文档流中的元素位置还要低。</p>
</blockquote>
<p>要使一个元素拥有层叠上下文特性，只需满足下列条件之一：</p>
<ul>
<li>根元素<code>&lt;html&gt;</code></li>
<li><code>z-index</code>不为<code>auto</code></li>
<li><code>opcacity</code>的值小于<code>1</code></li>
<li><code>transform</code>的值不为<code>none</code></li>
<li><code>perspective</code>的值不为<code>none</code></li>
</ul>
<p>在下面的代码中，<code>.a</code>元素没有定位，<code>.a-child</code>元素使用了绝对定位，并设置了<code>z-index: 1</code>，<code>.b</code>元素也设置了绝对定位，但是没有设置层叠顺序，因此它们的位置应该是<code>.a-child</code>最高，中间是<code>.b</code>，最底层是<code>.a</code>。（左图）</p>
<pre><code class="html">&lt;div class=&quot;a&quot;&gt;
    &lt;div class=&quot;a-child&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;b&quot;&gt;&lt;/div&gt;</code></pre>
<pre><code class="css">.a-child {
    position: absolute;
    z-index: 1;
}

.b {
    position: absolute;
    z-index: 0;
}</code></pre>
<p>但是，如果<code>.a</code>设置了<code>transform: scale(1)</code>，那么它就会创建一个<strong>独立的层叠上下文</strong>。此时，由于<code>.a</code>的层级不如<code>.b</code>高（<code>.b</code>有绝对定位，而<code>.a</code>没有定位），那么无论<code>.a-child</code>层级有多高，也无法摆脱<code>.a</code>的限制。也就是说，<code>.a-child</code>设置的<code>z-index</code>只能与<code>.a</code>的其它子元素相比，而无法与整个文档的元素相比了。（右图）</p>
<pre><code class="css">.a {
    transform: scale(1);
}</code></pre>
<p><img src="https://pic3.superbed.cn/item/5dfae5d076085c3289b9b3c6.jpg" alt=""></p>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>© 2020</p>
    <p>Theme chicken by 小鸡米花, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>
    <script src="http://cdn.yesuanzao.cn/blog/live2d/autoload.js" type="text/javascript"></script>
    <script src="http://cdn.yesuanzao.cn/blog/chicken.js"></script>
    <!-- 
        添加控制台，测试移动端
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>