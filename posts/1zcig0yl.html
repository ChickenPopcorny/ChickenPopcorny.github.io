<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„ä¸»é¢˜</title>
    <link rel="stylesheet" href="/css/chicken.css">
    <link rel="stylesheet" href="/css/iconfont.css">
    <link rel="stylesheet" href="/css/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</a></div>
        <nav>
            <a class="nav-item " href="/">ä¸»é¡µ</a>
            <a class="nav-item " href="/archives">æ—¶å…‰è½´</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/webpack/">webpack</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="å¤§å‰ç«¯ç¬”è®°ä¹‹22-ğŸ“¦-webpack"><a href="#å¤§å‰ç«¯ç¬”è®°ä¹‹22-ğŸ“¦-webpack" class="headerlink" title="å¤§å‰ç«¯ç¬”è®°ä¹‹22 ğŸ“¦ webpack"></a>å¤§å‰ç«¯ç¬”è®°ä¹‹22 ğŸ“¦ webpack</h1><p><a href="https://www.webpackjs.com/concepts" target="_blank" rel="noopener">webpack</a>æ˜¯ä¸€ä¸ªå‰ç«¯é¡¹ç›®çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæ›´ç¡®åˆ‡åœ°æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚æ¨¡å—åŒ–å¯ä»¥ä½¿å¾—è¶Šæ¥è¶Šå¤æ‚çš„å‰ç«¯é¡¹ç›®ä¸­çš„æ–‡ä»¶ä¾èµ–å˜å¾—æ¸…æ™°ï¼Œæ›´å®¹æ˜“ç®¡ç†ã€‚ä½†æ˜¯ç”±äºæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ï¼ŒES6ã€CommonJS ç­‰æ¨¡å—åŒ–è¯­æ³•å¹¶ä¸èƒ½å¾—åˆ°å¾ˆå¥½çš„æ”¯æŒã€‚è€Œ webpack æä¾›äº†å„ç§æ¨¡å—åŒ–æ–¹å¼çš„æ”¯æŒï¼Œå¯ä»¥å°†è¿™äº›åŒ…å«æ¨¡å—åŒ–è¯­æ³•çš„ä»£ç è¿›è¡Œæ‰“åŒ…åˆå¹¶ï¼Œè½¬æ¢æˆæµè§ˆå™¨èƒ½å¤Ÿè¿è¡Œçš„ä»£ç ã€‚å¯è§ï¼Œè™½ç„¶å®ƒä¹Ÿå…·æœ‰ç±»ä¼¼äº Gulp æä¾›è¯¸å¦‚ä»£ç è½¬æ¢ï¼ˆES6 â†’ ES5ã€Less â†’ CSS ï¼‰ã€ä»£ç å‹ç¼©ç­‰åŠŸèƒ½ï¼Œä½†æ˜¯æä¾›æ¨¡å—åŒ–æ”¯æŒï¼Œæ‰æ˜¯å®ƒæ›´å¼ºå¤§çš„åœ°æ–¹ã€‚</p>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><p>webpack æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„å·¥å…·ï¼Œéœ€è¦ä½¿ç”¨ npm å®‰è£…ã€‚ç”±äºå®ƒä»…ä»…æ˜¯ä¸€ä¸ªå¼€å‘å·¥å…·ï¼Œå› æ­¤å°†å…¶ä½œä¸ºå¼€å‘ä¾èµ–å³å¯ï¼š</p>
<pre><code class="powershell">npm i webpack webpack-cli --save-dev</code></pre>
<p>æ¥ä¸‹æ¥åœ¨é¡¹ç›®ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª<code>src</code>ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾æºä»£ç æ–‡ä»¶ï¼Œç­‰å¾… webpack å¤„ç†ã€‚</p>
<pre><code class="powershell">test
â”œâ”€ node_modules         # æ¨¡å—æ–‡ä»¶å¤¹
â”œâ”€ package-lock.json
â”œâ”€ package.json         # ä½¿ç”¨ npm init ç”Ÿæˆçš„
â”œâ”€ index.html           # ç”¨äºå¼•å…¥æ‰“åŒ…åçš„ js æ–‡ä»¶ï¼Œä¸´æ—¶æ”¾åˆ°è¿™é‡Œä½œä¸ºæµ‹è¯•
â””â”€ src                  # å­˜æ”¾æºä»£ç æ–‡ä»¶
    â””â”€ index.js         # éšä¾¿å†™äº†ä¸€è¡Œ console.log() ä»£ç </code></pre>
<p>æ¥ä¸‹æ¥ä½¿ç”¨<a href="/posts/o48l9v2o.html#npx">npx</a>æ‰§è¡Œ webpack è¿›è¡Œé¡¹ç›®æ‰“åŒ…ã€‚</p>
<pre><code class="powershell">npx webpack</code></pre>
<p>æ­¤æ—¶ä¼šå‘ç°é¡¹ç›®ä¸‹å¤šå‡ºäº†ä¸€ä¸ª<code>dist</code>æ–‡ä»¶å¤¹ï¼Œå®ƒç”¨æ¥å­˜æ”¾å¤„ç†åçš„ä»£ç ï¼Œå½“å‰åŒ…å«äº†æ‰“åŒ…åçš„<code>main.js</code>æ–‡ä»¶ã€‚æ‰“å¼€è¯¥æ–‡ä»¶å‘ç°ï¼Œè™½ç„¶æºæ–‡ä»¶ä¸­åªæœ‰ä¸€è¡Œ<code>console.log()</code>ï¼Œä½†æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶æ˜¯ç»è¿‡å‹ç¼©åçš„ä¸€ä¸²å¤æ‚ä»£ç ï¼Œè¿™æ˜¯å› ä¸º webpack æä¾›äº†æ¨¡å—åŒ–æ”¯æŒã€‚</p>
<p>ç„¶ååœ¨<code>index.html</code>å¼•å…¥åˆšç”Ÿæˆçš„<code>main.js</code>ï¼Œå¯ä»¥å‘ç°æºæ–‡ä»¶<code>index.js</code>ä¸­çš„ä»£ç è¢«æ­£ç¡®æ‰§è¡Œäº†ã€‚</p>
<p>å¦‚æœè¦ä¿®æ”¹ webpack çš„é…ç½®ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œä¸”<strong>åªèƒ½ä½¿ç”¨ CommonJS è¯­æ³•</strong>ï¼Œå› æ­¤é…ç½®å¯¹è±¡éœ€è¦é€šè¿‡æ¨¡å—åŒ–å¯¼å‡ºã€‚</p>
<pre><code class="js">/* webpack.config.js */
module.exports = {
    // é…ç½®å‚æ•°
}</code></pre>
<h2 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h2><p>webpack é™¤äº†å¯ä»¥ç®¡ç† JavaScript æ–‡ä»¶ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç®¡ç†è¯¸å¦‚ CSSã€å›¾ç‰‡ç­‰å„ç§é™æ€èµ„æºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å—åŒ–è¯­æ³•ç›´æ¥å¯¼å…¥è¿™äº›å…¶å®ƒç±»å‹çš„èµ„æºæ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯ JavaScript æ–‡ä»¶ã€‚ä¸è¿‡ï¼Œè¦ç®¡ç†è¿™äº›èµ„æºï¼Œéœ€è¦é¦–å…ˆå®‰è£…å¯¹åº”çš„ loaderï¼Œä¸åŒçš„èµ„æºæœ‰ä¸åŒçš„ loaderï¼Œå¯¹åº”çš„é…ç½®æ–¹å¼ä¹Ÿä¸å¤ªç›¸åŒã€‚</p>
<h3 id="æ ·å¼æ–‡ä»¶"><a href="#æ ·å¼æ–‡ä»¶" class="headerlink" title="æ ·å¼æ–‡ä»¶"></a>æ ·å¼æ–‡ä»¶</h3><p>ç®¡ç† CSS æ ·å¼æ–‡ä»¶éœ€è¦ä½¿ç”¨<a href="https://www.webpackjs.com/loaders/css-loader/" target="_blank" rel="noopener">css-loader</a>å’Œ<a href="https://www.webpackjs.com/loaders/style-loader/" target="_blank" rel="noopener">style-loader</a>ä¸¤ä¸ª loaderï¼Œå‰è€…è´Ÿè´£å¯¼å…¥ CSS æ–‡ä»¶å¹¶æä¾›è¿”å›çš„ CSS ä»£ç ï¼Œåè€…è´Ÿè´£å°† CSS ä»£ç åµŒå…¥åˆ°é¡µé¢çš„ DOM ä½¿å…¶ç”Ÿæ•ˆã€‚å› æ­¤ä½ åªéœ€åœ¨é¡µé¢ä¸­å¼•ç”¨ä¸€ä¸ªè¾“å‡ºçš„ JavaScript æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿é¡µé¢æ‹¥æœ‰æ ·å¼äº†ï¼</p>
<pre><code class="powershell">npm install style-loader css-loader --save-dev </code></pre>
<pre><code class="js">module.exports = {
    module: {
        rules: [{
            test: /\.css$/,
            use: [&#39;style-loader&#39;, &#39;css-loader&#39;]
        }]
    }
}</code></pre>
<blockquote>
<p>æ³¨æ„é…ç½®æ–‡ä»¶ä¸­åŠ è½½ loader çš„é¡ºåºï¼Œæ˜¯<strong>ä»å³å‘å·¦</strong>æ‰§è¡Œçš„ï¼Œå› æ­¤<code>css-loader</code>å¿…é¡»è¦å†™åœ¨åé¢ï¼ˆå…ˆæ‰§è¡Œï¼‰æ‰èƒ½æ­£ç¡®è¿è¡Œã€‚</p>
</blockquote>
<p>å¦‚æœè¿˜éœ€è¦ç®¡ç† Less æ–‡ä»¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨<a href="https://www.webpackjs.com/loaders/less-loader/" target="_blank" rel="noopener">less-loader</a>å’Œ Less æœ¬èº«ã€‚å¹¶ä¸”ç”±äº Less æœ€ç»ˆä¾ç„¶ä¼šè½¬æ¢ä¸º CSSï¼Œå› æ­¤ä¹Ÿéœ€è¦ä¾èµ–<code>css-loader</code>å’Œ<code>style-loader</code>ã€‚</p>
<pre><code class="powershell">npm install --save-dev less-loader less</code></pre>
<pre><code class="js">module.exports = {
    module: {
        rules: [{
            test: /\.less$/,
            use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;less-loader&#39;]
        }]
    }
}</code></pre>
<blockquote>
<p>æ³¨æ„ï¼Œè™½ç„¶è¿™é‡Œçš„è§„åˆ™ä¸­ä¹Ÿä½¿ç”¨äº†<code>css-loader</code>å’Œ<code>less-loader</code>ï¼Œä½†æ˜¯å¦‚æœå¸Œæœ›æ­£ç¡®å¤„ç† CSS æ–‡ä»¶çš„è¯ï¼Œä¾ç„¶éœ€è¦ä¹‹å‰ CSS çš„è§„åˆ™ï¼Œè¿™é‡Œçš„è§„åˆ™ä»…ä»…ç”¨äºç®¡ç† Less æ–‡ä»¶ï¼Œä¸ä¼šç®¡ç† CSS æ–‡ä»¶ã€‚</p>
</blockquote>
<h3 id="å›¾ç‰‡æ–‡ä»¶"><a href="#å›¾ç‰‡æ–‡ä»¶" class="headerlink" title="å›¾ç‰‡æ–‡ä»¶"></a>å›¾ç‰‡æ–‡ä»¶</h3><p>å½“å…¶å®ƒæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ–‡ä»¶æ—¶ï¼ˆæ¯”å¦‚ CSS æ–‡ä»¶ä¸­é€šè¿‡<code>url()</code>è®¾ç½®äº†èƒŒæ™¯å›¾ç‰‡ï¼‰ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨<a href="https://www.webpackjs.com/loaders/file-loader/" target="_blank" rel="noopener">file-loader</a>æ¥ç®¡ç†å›¾ç‰‡æ–‡ä»¶ã€‚</p>
<pre><code class="powershell">npm install --save-dev file-loader</code></pre>
<pre><code class="js">module.exports = {
    module: {
        rules: [{
            test: /\.(png|jpg|gif)$/,
            use: [&#39;file-loader&#39;]
        }]
    }
}</code></pre>
<p>å¯ä»¥çœ‹åˆ°<code>dist</code>ç›®å½•ä¸­ç”Ÿæˆäº†ä¸€ä¸ªéšæœºæ–‡ä»¶åçš„å›¾ç‰‡æ–‡ä»¶ï¼Œä¸è¿‡ç”±äºæ­¤æ—¶<code>index.html</code>æ–‡ä»¶çš„ä½ç½®é—®é¢˜å¯¼è‡´å›¾ç‰‡è·¯å¾„ä¸æ­£ç¡®ï¼Œå› æ­¤å›¾ç‰‡æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œä¹‹åå¤„ç† HTML æ–‡ä»¶æ—¶å°±ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<a href="https://www.webpackjs.com/loaders/url-loader/" target="_blank" rel="noopener">url-loader</a>å°†æ¯”è¾ƒå°çš„å›¾ç‰‡è½¬æ¢æˆ Base64ã€‚å½“å›¾ç‰‡çš„ä½“ç§¯å°äº<code>limit</code>ï¼ˆå•ä½ä¸ºå­—èŠ‚ï¼‰æ—¶ï¼Œwebpack ä¼šå°†å›¾ç‰‡è½¬æ¢ä¸º Base64ã€‚å¦‚æœå¤§äº<code>limit</code>ï¼Œåˆ™ä¼šè‡ªåŠ¨è°ƒç”¨ file-loaderã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼ä¸€æ—¦é…ç½®äº† url-loaderï¼Œè™½ç„¶ file-loader å¿…é¡»å®‰è£…ï¼Œä½†æ˜¯<strong>åƒä¸‡ä¸è¦é…ç½®</strong>ï¼å¦åˆ™ä¼šç”±äºå†²çªå¯¼è‡´æ‰“åŒ…ç»“æœä¸æ­£ç¡®ï¼</p>
</blockquote>
<pre><code class="powershell">npm install --save-dev url-loader</code></pre>
<pre><code class="js">module.exports = {
    module: {
        rules: [{
            test: /\.(png|jpg|gif)$/,
            use: [
                {
                    loader: &#39;url-loader&#39;,
                    options: {
                        limit: 8192 // ç›¸å½“äº 8KB
                    }
                }
            ]
        }]
    }
}</code></pre>
<h3 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h3><p>ä½¿ç”¨<a href="https://www.webpackjs.com/loaders/babel-loader/" target="_blank" rel="noopener">babel-loader</a>å¯ä»¥å°† ES6 è¯­æ³•è½¬æ¢æˆå…¼å®¹æ€§æ¯”è¾ƒå¥½çš„ ES5 è¯­æ³•ã€‚</p>
<pre><code class="powershell">npm install -D babel-loader @babel/core @babel/preset-env</code></pre>
<pre><code class="js">module.exports = {
    module: {
        rules: [{
            test: /\.m?js$/,
            exclude: /(node_modules|bower_components)/,
            use: {
                loader: &#39;babel-loader&#39;,
                options: {
                    presets: [&#39;@babel/preset-env&#39;]
                }
            }
        }]
    }
}</code></pre>
<h2 id="ç®¡ç†è¾“å‡º"><a href="#ç®¡ç†è¾“å‡º" class="headerlink" title="ç®¡ç†è¾“å‡º"></a>ç®¡ç†è¾“å‡º</h2><h3 id="å…¥å£"><a href="#å…¥å£" class="headerlink" title="å…¥å£"></a>å…¥å£</h3><p>ä½¿ç”¨<code>entry</code>è®¾ç½®é¡¹ç›®çš„èµ·ç‚¹ï¼Œé»˜è®¤ä¸º<code>./src/index.js</code>ã€‚</p>
<pre><code class="js">module.exports = {
    entry: &#39;./src/main.js&#39; // ä¿®æ”¹ä¸º main.js æ–‡ä»¶
}</code></pre>
<h3 id="å‡ºå£"><a href="#å‡ºå£" class="headerlink" title="å‡ºå£"></a>å‡ºå£</h3><p>ä½¿ç”¨<code>output</code>è®¾ç½®ç¼–è¯‘åçš„æ–‡ä»¶åç§°å’Œä¿å­˜ä½ç½®ï¼Œé»˜è®¤ä¸º<code>./dist/main.js</code>ã€‚è¯¥å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«<code>path</code>å’Œ<code>filename</code>ä¸¤ä¸ªå±æ€§ï¼Œå‰è€…ç”¨æ¥è®¾ç½®ä¿å­˜ä½ç½®ï¼Œåè€…è®¾ç½®æ–‡ä»¶åç§°ã€‚æ³¨æ„ï¼Œå…¶ä¸­<code>path</code>å¿…é¡»ä¸º<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œå› æ­¤éœ€è¦å¼•å…¥<code>path</code>æ¨¡å—æ‹¼æ¥è·¯å¾„ã€‚</p>
<pre><code class="js">const path = require(&#39;path&#39;)

module.exports = {
    output: { // å°†æ‰“åŒ…åçš„æ–‡ä»¶ä¿®æ”¹ä¸º é¡¹ç›®ç›®å½•ä¸‹çš„ output/bundle.js
        path: path.join(__dirname, &#39;output&#39;),
        filename: &#39;bundle.js&#39;
    }
}</code></pre>
<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p>æ’ä»¶å¯ä»¥å¯¹ webpack è¿›è¡ŒåŠŸèƒ½ä¸Šçš„æ‰©å……ï¼Œæ¯”å¦‚ä»£ç å‹ç¼©ã€æ·»åŠ ç‰ˆæƒä¿¡æ¯ç­‰ã€‚ä¸ loader ä¸åŒçš„æ˜¯ï¼Œloader ç”¨äºå°†ç‰¹å®šç±»å‹çš„æ–‡ä»¶è¿›è¡Œè½¬æ¢ï¼Œè€Œæ’ä»¶åˆ™æ˜¯å°†è½¬æ¢åçš„ä»£ç ä½œå‡ºè¿›ä¸€æ­¥å¤„ç†ã€‚</p>
<h3 id="è‡ªåŠ¨ç”Ÿæˆ-HTML-æ–‡ä»¶"><a href="#è‡ªåŠ¨ç”Ÿæˆ-HTML-æ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶"></a>è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶</h3><p>ä½¿ç”¨<a href="https://github.com/jantimon/html-webpack-plugin#configuration" target="_blank" rel="noopener">HtmlWebpackPlugin</a>å¯ä»¥åœ¨å‘å¸ƒç›®å½•ä¸­è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå¹¶å¼•å…¥åŒ…å«æ‰“åŒ…å<code>.js</code>æ–‡ä»¶ã€‚</p>
<pre><code class="powershell">npm i --save-dev html-webpack-plugin</code></pre>
<pre><code class="js">const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;)

module.exports = {
    plugins: [
        new HtmlWebpackPlugin()
    ]
}</code></pre>
<p>è°ƒç”¨æ’ä»¶æ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ä½œä¸ºé…ç½®å‚æ•°ï¼Œæ¯”å¦‚å¸Œæœ›ä»¥è‡ªå®šä¹‰çš„æ¨¡æ¿æ¥åˆ›å»º HTMLï¼Œå¯ä»¥ä½¿ç”¨<a href="https://github.com/jantimon/html-webpack-plugin/blob/master/docs/template-option.md" target="_blank" rel="noopener">template å±æ€§</a>ã€‚å®ƒä¾ç„¶ä¼šè‡ªåŠ¨åœ¨æœ€åæ·»åŠ æ‰“åŒ…æ–‡ä»¶çš„å¼•ç”¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ ã€‚</p>
<pre><code class="js">module.exports = {
    plugins: [
        new HtmlWebpackPlugin({
            template: &#39;./index.html&#39; // ç›¸å¯¹äº webpack.config.js æ–‡ä»¶æ‰€åœ¨ç›®å½•
        })
    ]
}</code></pre>
<h3 id="ä»£ç å‹ç¼©"><a href="#ä»£ç å‹ç¼©" class="headerlink" title="ä»£ç å‹ç¼©"></a>ä»£ç å‹ç¼©</h3><p>ä½¿ç”¨<a href="https://www.webpackjs.com/plugins/uglifyjs-webpack-plugin/" target="_blank" rel="noopener">UglifyjsWebpackPlugin</a>å¯ä»¥å¯¹ä»£ç è¿›è¡Œå‹ç¼©ã€‚</p>
<blockquote>
<p>åœ¨ webpack4 ä¸­ï¼Œå¦‚æœé…ç½®äº†<code>mode: &#39;production&#39;</code>ï¼ˆé»˜è®¤ï¼‰é€‰é¡¹ï¼Œé‚£ä¹ˆ webpack ä¼šè‡ªåŠ¨è¿›è¡Œå‹ç¼©ï¼Œè¿™é‡Œç­‰ç”¨åˆ°æ—¶å†ç ”ç©¶ã€‚</p>
</blockquote>
<h2 id="å…¶å®ƒåŠŸèƒ½"><a href="#å…¶å®ƒåŠŸèƒ½" class="headerlink" title="å…¶å®ƒåŠŸèƒ½"></a>å…¶å®ƒåŠŸèƒ½</h2><h3 id="æœ¬åœ°æœåŠ¡å™¨"><a href="#æœ¬åœ°æœåŠ¡å™¨" class="headerlink" title="æœ¬åœ°æœåŠ¡å™¨"></a>æœ¬åœ°æœåŠ¡å™¨</h3><p>ä½¿ç”¨<a href="https://www.webpackjs.com/configuration/dev-server/" target="_blank" rel="noopener">webpack-dev-server</a>å¯ä»¥å¿«é€Ÿæ„å»ºä¸€ä¸ªåŸºäº Node.js çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œå®ƒå†…ç½®äº† <a href="/posts/o48l9v2o.html#æ„å»ºç½‘ç»œæœåŠ¡">Express æ¡†æ¶</a>ï¼Œå¯ä»¥ç”¨äºæœ¬åœ°è°ƒè¯•ã€‚</p>
<pre><code class="powershell">npm install webpack-dev-server --save-dev</code></pre>
<pre><code class="js">module.exports = {
    devServer: {
        contentBase: path.join(__dirname, &quot;dist&quot;), // æ ¹è·¯å¾„ï¼Œé€šå¸¸é…ç½®ä¸ºéƒ¨ç½²ç›®å½• dist
        port: 9000 // ç«¯å£ï¼Œé»˜è®¤ä¸º 8080
    }
}</code></pre>
<p>ç„¶åè¿è¡Œé¡¹ç›®æœ¬åœ°çš„<code>webpack-server-dev</code>å¯åŠ¨æœåŠ¡å™¨ï¼Œä½¿ç”¨ npx æˆ–è€… npm scripts å‡å¯ã€‚</p>
<pre><code class="powershell">npx webpack-server-dev</code></pre>
<blockquote>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ VSCode ä¸­çš„ live-server æ‰©å±•ã€‚</p>
</blockquote>
<h3 id="åˆ†ç¦»é…ç½®æ–‡ä»¶"><a href="#åˆ†ç¦»é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ†ç¦»é…ç½®æ–‡ä»¶"></a>åˆ†ç¦»é…ç½®æ–‡ä»¶</h3><p>ä½¿ç”¨<a href="https://github.com/survivejs/webpack-merge" target="_blank" rel="noopener">webpack-merge</a>å¯ä»¥å°†é…ç½®æ–‡ä»¶åˆ†ç¦»æˆå¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒï¼Œç„¶åæ ¹æ®ç¯å¢ƒå†åˆå¹¶ä¸ºä¸€ä¸ªç»Ÿä¸€çš„é…ç½®æ–‡ä»¶ã€‚</p>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>Â© 2020</p>
    <p>Theme chicken by å°é¸¡ç±³èŠ±, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>
    
    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <script src="/scripts/highlight.pack.js"></script>
    <script src="/scripts/chicken.js"></script>
    <!-- 
        æ·»åŠ æ§åˆ¶å°ï¼Œæµ‹è¯•ç§»åŠ¨ç«¯
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/pio.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":false},"react":{"opacity":1},"log":false});</script></body>
</html>