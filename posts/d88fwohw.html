<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="//cdn.yesuanzao.cn/blog/atom-one-dark.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">
    <!-- æœ¬åœ°é™æ€æ–‡ä»¶æµ‹è¯• -->
    <link rel="stylesheet" href="/css/chicken.css">
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <header>
    <div class="container">
        <div class="site-title"><a href="/">å°é¸¡ç±³èŠ±çš„çŸ¥è¯†åº“</a></div>
        <nav>
            <a class="nav-item " href="/">ä¸»é¡µ</a>
            <a class="nav-item " href="/archives">æ—¶å…‰è½´</a>
        </nav>
    </div>
</header>
    <div id="write">
    <div class="container">
        <div class="post-info">
            <ul class="tag-list">
                
                    <a class="tag-list-item" href="/tags/JavaScript/">JavaScript</a>
                
            </ul>
        </div>
        <div class="post-content"><h1 id="ğŸ””-JavaScript-ä¸­çš„-this-å…³é”®å­—"><a href="#ğŸ””-JavaScript-ä¸­çš„-this-å…³é”®å­—" class="headerlink" title="ğŸ”” JavaScript ä¸­çš„ this å…³é”®å­—"></a>ğŸ”” JavaScript ä¸­çš„ this å…³é”®å­—</h1><p>JavaScript ä¸­çš„<code>this</code>åœ¨ä¸åŒåœºåˆæ‰€æŒ‡å‘çš„å¯¹è±¡ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œå®ƒæ€»æ˜¯ä¼šæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h2 id="ä¸åŒåœºæ™¯ä¸‹çš„-this-æŒ‡å‘"><a href="#ä¸åŒåœºæ™¯ä¸‹çš„-this-æŒ‡å‘" class="headerlink" title="ä¸åŒåœºæ™¯ä¸‹çš„ this æŒ‡å‘"></a>ä¸åŒåœºæ™¯ä¸‹çš„ this æŒ‡å‘</h2><h3 id="æ„é€ å‡½æ•°ä¸­çš„-this"><a href="#æ„é€ å‡½æ•°ä¸­çš„-this" class="headerlink" title="æ„é€ å‡½æ•°ä¸­çš„ this"></a>æ„é€ å‡½æ•°ä¸­çš„ this</h3><p>æ„é€ å‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘å…¶åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ã€‚</p>
<pre><code class="js">function Person(name) { 
    this.name = name 
}

let person = new Person(&#39;Claire&#39;)
person.name // =&gt; Claire</code></pre>
<h3 id="å…¨å±€ä½œç”¨åŸŸä¸­çš„-this"><a href="#å…¨å±€ä½œç”¨åŸŸä¸­çš„-this" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸä¸­çš„ this"></a>å…¨å±€ä½œç”¨åŸŸä¸­çš„ this</h3><p>å…¨å±€ä½œç”¨åŸŸä¸­çš„<code>this</code>æŒ‡ä»£å…¨å±€å¯¹è±¡<code>Window</code>ï¼ˆä»…é™äºæµè§ˆå™¨ä½œä¸ºå®¿ä¸»ç¯å¢ƒæ—¶ï¼‰ã€‚</p>
<pre><code class="js">this // =&gt; Window</code></pre>
<h3 id="æ™®é€šå‡½æ•°ä¸­çš„-this"><a href="#æ™®é€šå‡½æ•°ä¸­çš„-this" class="headerlink" title="æ™®é€šå‡½æ•°ä¸­çš„ this"></a>æ™®é€šå‡½æ•°ä¸­çš„ this</h3><p>æ™®é€šå‡½æ•°ä¸­çš„<code>this</code>æŒ‡ä»£<strong>å½“å‰è°ƒç”¨å‡½æ•°çš„å¯¹è±¡</strong>ï¼Œä¸å‡½æ•°çš„å®šä¹‰ä½ç½®ã€è°ƒç”¨ä½ç½®éƒ½æ²¡æœ‰å…³ç³»ï¼Œåªä¸å‡½æ•°çš„<strong>è°ƒç”¨è€…</strong>æœ‰å…³ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰è°ƒç”¨è€…ï¼Œåˆ™<code>this</code>åŒæ ·æŒ‡ä»£å…¨å±€å¯¹è±¡<code>Window</code>ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œç”±äº<code>foo()</code>å‰æ²¡æœ‰å…·ä½“çš„è°ƒç”¨å¯¹è±¡ï¼Œå› æ­¤å‡½æ•°ä¸­çš„<code>this</code>æŒ‡ä»£çš„æ˜¯<code>Window</code>ã€‚</p>
<pre><code class="js">function foo() { return this }

foo() // =&gt; Window</code></pre>
<p>å¦‚æœå‡½æ•°é€šè¿‡æŸä¸ªå¯¹è±¡è°ƒç”¨ï¼Œé‚£ä¹ˆå‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘è¯¥å¯¹è±¡ï¼š</p>
<pre><code class="js">function foo() { return this }

let obj = { fn: foo }

obj.fn() // =&gt; obj</code></pre>
<h3 id="å®šæ—¶å™¨ä¸­çš„-this"><a href="#å®šæ—¶å™¨ä¸­çš„-this" class="headerlink" title="å®šæ—¶å™¨ä¸­çš„ this"></a>å®šæ—¶å™¨ä¸­çš„ this</h3><p>å®šæ—¶å™¨ä¸­çš„<code>this</code>æŒ‡ä»£çš„æ˜¯å…¨å±€å¯¹è±¡<code>Window</code>ã€‚</p>
<pre><code class="js">setInterval(function () {
    this // =&gt; window
}, 1000)</code></pre>
<h3 id="äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­çš„-this"><a href="#äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­çš„-this" class="headerlink" title="äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­çš„ this"></a>äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­çš„ this</h3><p>äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­çš„<code>this</code>æŒ‡ä»£çš„æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡ã€‚æ³¨æ„è¿™é‡Œçš„äº‹ä»¶ç›‘å¬å‡½æ•°å¦‚æœæ˜¯ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆä¼šæŒ‡å‘å¤–å±‚çš„<code>this</code>ï¼Œå› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„<code>this</code>ã€‚</p>
<pre><code class="js">btn.addEventListener(&#39;click&#39;, function () {
    this // =&gt; &lt;button id=&quot;btn&quot;&gt;è§¦å‘äº‹ä»¶&lt;/button&gt;
})</code></pre>
<h2 id="æ”¹å˜-this-æŒ‡å‘"><a href="#æ”¹å˜-this-æŒ‡å‘" class="headerlink" title="æ”¹å˜ this æŒ‡å‘"></a>æ”¹å˜ this æŒ‡å‘</h2><p>è™½ç„¶<code>this</code>çš„æŒ‡å‘ä¼šéšç€åœºæ™¯ä¸åŒå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯é€šè¿‡ä¸€äº›æ–¹å¼å¯ä»¥ä¿®æ”¹ç‰¹å®šæƒ…å†µä¸‹<code>this</code>çš„æŒ‡å‘ã€‚</p>
<h3 id="call"><a href="#call" class="headerlink" title="call()"></a>call()</h3><p>ä½¿ç”¨å‡½æ•°è°ƒç”¨<code>call()</code>ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼šå¯¼è‡´å‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘è¯¥å¯¹è±¡å‚æ•°ã€‚å¦‚æœæ²¡æœ‰ä¼ å‚æ•°æˆ–è€…ä¼ å…¥<code>null</code>ï¼Œé‚£ä¹ˆç›¸å½“äºç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œä¸ä¼šæ”¹å˜<code>this</code>çš„æŒ‡å‘ã€‚</p>
<pre><code class="js">function say() { return this }
let obj = {}

say()           // =&gt; Window
say.call(obj)   // =&gt; obj
say.call()      // =&gt; Windowï¼Œç›¸å½“äºç›´æ¥è°ƒç”¨</code></pre>
<p>å¦‚æœä¼ å…¥æ›´å¤šå‚æ•°ï¼Œåˆ™ä¹‹åçš„å‚æ•°è¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ï¼š</p>
<pre><code class="js">function getSum(num1, num2) {
    return num1 + num2
}

getSum.call(null, 10, 20) // =&gt; 30</code></pre>
<h3 id="apply"><a href="#apply" class="headerlink" title="apply()"></a>apply()</h3><p>å®ƒçš„ç”¨æ³•ä¸<code>call()</code>å‡ ä¹ä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äº<code>apply()</code>çš„å‡½æ•°å‚æ•°å¿…é¡»æ˜¯æ•°ç»„ã€‚</p>
<pre><code class="js">getSum.apply(obj, [10])</code></pre>
<h3 id="bind"><a href="#bind" class="headerlink" title="bind()"></a>bind()</h3><p>è¯¥æ–¹æ³•ä¼šæ”¹å˜<code>this</code>çš„æŒ‡å‘ï¼Œä½†æ˜¯ä¸ä¼šè°ƒç”¨å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ”¹å˜äº†<code>this</code>æŒ‡å‘çš„æ–°å‡½æ•°ã€‚</p>
<pre><code class="js">function fn() { return this }

let obj = {}
let newFn = fn.bind(obj)

newFn() // =&gt; obj</code></pre>
</div>
    </div>
</div>

<div class="toc"></div>
    <footer>
    <p>Â© 2020</p>
    <p>Theme chicken by å°é¸¡ç±³èŠ±, Powered by Hexo</p>
</footer>
    <a class="back-to-top" href="javascript:;"></a>

    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.js"></script>
    <script defer src="https://cdn.staticfile.org/KaTeX/0.11.1/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { strict: false, delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });"></script>
    <script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script>
    <script src="https://cdn.staticfile.org/highlight.js/9.18.1/highlight.min.js"></script>

    <script>
        // ä¸ºæ ‡ç­¾è¿½åŠ å­—ä½“å›¾æ ‡
        $('.tag-list-item').prepend('<i class="fas fa-tag"></i>')

        // å›åˆ°é¡¶éƒ¨çš„çŒ«
        $('.back-to-top').click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 500)
        })

        // ç›‘å¬ å›åˆ°é¡¶éƒ¨çš„çŒ« æ˜¯å¦æ˜¾ç¤º
        $(document).scroll(function () {
            if ($(document).scrollTop() > 50) {
                $('.back-to-top').addClass('show')
            } else {
                $('.back-to-top').removeClass('show')
            }
        })

        // åœ¨è¡¨æ ¼å¤–åŒ…è£¹ä¸€å±‚ï¼Œç”¨æ¥ç”Ÿæˆæ»šåŠ¨æ¡
        $('.post-content > table').wrap('<div class="table-container"></div>')

        // Tocbot å®ä¾‹åŒ–ï¼Œç”¨æ¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£ç›®å½•
        tocbot.init({
            tocSelector: '.toc', // æ¸²æŸ“ç›®å½•çš„å®¹å™¨
            contentSelector: '.post-content', // æ ‡é¢˜æ‰€åœ¨çš„å®¹å™¨
            headingSelector: 'h2, h3', // è¦æ¸²æŸ“çš„ç›®å½•å±‚çº§,
            headingsOffset: -50, // å¾®è°ƒç›®å½•é«˜äº®çš„æ˜¾ç¤ºä½ç½®ï¼ˆåç§»é‡ï¼‰ï¼Œé˜²æ­¢ç‚¹å‡»çš„é“¾æ¥å’Œé«˜äº®çš„é“¾æ¥ä¸ä¸€è‡´
        })

        // åˆå§‹åŒ–ä»£ç é«˜äº® highlight.js
        hljs.initHighlightingOnLoad()

        // è‡ªåŠ¨åŠ è½½ waifu
        try {
            $("<link>").attr({ href: "//cdn.yesuanzao.cn/blog/live2d/waifu.min.css", rel: "stylesheet", type: "text/css" }).appendTo('head');
            $('body').append('<div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fui-home"></span> <span class="fui-chat"></span> <span class="fui-eye"></span> <span class="fui-user"></span> <span class="fui-photo"></span> <span class="fui-info-circle"></span> <span class="fui-cross"></span></div></div>');
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/waifu-tips.js', dataType: "script", cache: true, async: false });
            $.ajax({ url: '//cdn.yesuanzao.cn/blog/live2d/live2d.min.js', dataType: "script", cache: true, async: false, success: function() {
                initModel('//cdn.yesuanzao.cn/blog/live2d/waifu-tips.json');
            } });
        } catch (err) { console.log(err) }
    </script>
    <!-- 
        æ·»åŠ æ§åˆ¶å°ï¼Œæµ‹è¯•ç§»åŠ¨ç«¯
        <script src="http://cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
    -->
</body>

</html>